!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):(t="undefined"!=typeof globalThis?globalThis:t||self).RememberScroll=n()}(this,function(){"use strict";function t(t,n,e){return t(e={path:n,exports:{},require:function(t,n){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==n&&e.path)}},e.exports),e.exports}function o(t){return"object"==typeof t?null!==t:"function"==typeof t}function r(t){if(!o(t))throw TypeError(t+" is not an object!");return t}function c(t,n){return p.call(t,n)}function f(t){return"Symbol(".concat(void 0===t?"":t,")_",(++y+g).toString(36))}function b(r,o,t){if(!function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!")}(r),void 0===o)return r;switch(t){case 1:return function(t){return r.call(o,t)};case 2:return function(t,n){return r.call(o,t,n)};case 3:return function(t,n,e){return r.call(o,t,n,e)}}return function(){return r.apply(o,arguments)}}var h=t(function(t){t=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=t)}),d=t(function(t){t=t.exports={version:"2.6.11"};"number"==typeof __e&&(__e=t)}),n=function(t){try{return!!t()}catch(t){return!0}},l=!n(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),e=h.document,i=o(e)&&o(e.createElement),u=!l&&!n(function(){return 7!=Object.defineProperty(i?e.createElement("div"):{},"a",{get:function(){return 7}}).a}),s=Object.defineProperty,a={f:l?Object.defineProperty:function(t,n,e){if(r(t),n=function(t,n){if(!o(t))return t;var e,r;if(n&&"function"==typeof(e=t.toString)&&!o(r=e.call(t)))return r;if("function"==typeof(e=t.valueOf)&&!o(r=e.call(t)))return r;if(!n&&"function"==typeof(e=t.toString)&&!o(r=e.call(t)))return r;throw TypeError("Can't convert object to primitive value")}(n,!0),r(e),u)try{return s(t,n,e)}catch(t){}if("get"in e||"set"in e)throw TypeError("Accessors not supported!");return"value"in e&&(t[n]=e.value),t}},v=l?function(t,n,e){return a.f(t,n,{enumerable:!((n=1)&n),configurable:!(2&n),writable:!(4&n),value:e})}:function(t,n,e){return t[n]=e,t},p={}.hasOwnProperty,y=0,g=Math.random(),m=t(function(t){var n="__core-js_shared__",e=h[n]||(h[n]={});(t.exports=function(t,n){return e[t]||(e[t]=void 0!==n?n:{})})("versions",[]).push({version:d.version,mode:"global",copyright:"Â© 2019 Denis Pushkarev (zloirock.ru)"})}),S=m("native-function-to-string",Function.toString),w=t(function(t){var i=f("src"),n="toString",u=(""+S).split(n);d.inspectSource=function(t){return S.call(t)},(t.exports=function(t,n,e,r){var o="function"==typeof e;o&&(c(e,"name")||v(e,"name",n)),t[n]!==e&&(o&&(c(e,i)||v(e,i,t[n]?""+t[n]:u.join(String(n)))),t===h?t[n]=e:r?t[n]?t[n]=e:v(t,n,e):(delete t[n],v(t,n,e)))})(Function.prototype,n,function(){return"function"==typeof this&&this[i]||S.call(this)})}),O="prototype",j=function(t,n,e){var r,o,i,u=t&j.F,c=t&j.G,f=t&j.S,s=t&j.P,a=t&j.B,l=c?h:f?h[n]||(h[n]={}):(h[n]||{})[O],p=c?d:d[n]||(d[n]={}),y=p[O]||(p[O]={});for(r in c&&(e=n),e)o=((i=!u&&l&&void 0!==l[r])?l:e)[r],i=a&&i?b(o,h):s&&"function"==typeof o?b(Function.call,o):o,l&&w(l,r,o,t&j.U),p[r]!=o&&v(p,r,i),s&&y[r]!=o&&(y[r]=o)};h.core=d,j.F=1,j.G=2,j.S=4,j.P=8,j.B=16,j.W=32,j.U=64,j.R=128;function _(t){return I.call(t).slice(8,-1)}function E(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}function T(t){return Object(E(t))}function x(t){return isNaN(t=+t)?0:(0<t?F:M)(t)}function P(t){return 0<t?L(x(t),9007199254740991):0}function k(t,n){return N(t=t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!N(e.prototype)||(e=void 0),o(e)&&null===(e=e[C])&&(e=void 0)),new(void 0===e?Array:e)(n);var e}var A=j,I={}.toString,K=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==_(t)?t.split(""):Object(t)},M=Math.ceil,F=Math.floor,L=Math.min,N=Array.isArray||function(t){return"Array"==_(t)},q=t(function(t){var n=m("wks"),e=h.Symbol,r="function"==typeof e;(t.exports=function(t){return n[t]||(n[t]=r&&e[t]||(r?e:f)("Symbol."+t))}).store=n}),C=q("species"),R=function(l,t){var p=1==l,y=2==l,h=3==l,d=4==l,v=6==l,g=5==l||v,m=t||k;return function(t,n,e){for(var r,o,i=T(t),u=K(i),c=b(n,e,3),f=P(u.length),s=0,a=p?m(t,f):y?m(t,0):void 0;s<f;s++)if((g||s in u)&&(o=c(r=u[s],s,i),l))if(p)a[s]=o;else if(o)switch(l){case 3:return!0;case 5:return r;case 6:return s;case 2:a.push(r)}else if(d)return!1;return v?-1:h||d?d:a}},z=q("unscopables"),B=Array.prototype;null==B[z]&&v(B,z,{});function D(t){B[z][t]=!0}var G=R(6),q="findIndex",J=!0;q in[]&&Array(1)[q](function(){J=!1}),A(A.P+A.F*J,"Array",{findIndex:function(t,n){return G(this,t,1<arguments.length?n:void 0)}}),D(q);var U=R(5),R="find",W=!0;R in[]&&Array(1)[R](function(){W=!1}),A(A.P+A.F*W,"Array",{find:function(t,n){return U(this,t,1<arguments.length?n:void 0)}}),D(R);function Y(t){return K(E(t))}var H,Q,V=Math.max,X=Math.min,Z=m("keys"),$=(H=!1,function(t,n,e){var r,o=Y(t),i=P(o.length),u=(t=i,(e=x(e=e))<0?V(e+t,0):X(e,t));if(H&&n!=n){for(;u<i;)if((r=o[u++])!=r)return!0}else for(;u<i;u++)if((H||u in o)&&o[u]===n)return H||u||0;return!H&&-1}),tt=Z[Q="IE_PROTO"]||(Z[Q]=f(Q)),nt="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),et=Object.keys||function(t){return function(t,n){var e,r=Y(t),o=0,i=[];for(e in r)e!=tt&&c(r,e)&&i.push(e);for(;n.length>o;)c(r,e=n[o++])&&(~$(i,e)||i.push(e));return i}(t,nt)},rt={f:Object.getOwnPropertySymbols},ot={f:{}.propertyIsEnumerable},it=Object.assign,n=!it||n(function(){var t={},n={},e=Symbol(),r="abcdefghijklmnopqrst";return t[e]=7,r.split("").forEach(function(t){n[t]=t}),7!=it({},t)[e]||Object.keys(it({},n)).join("")!=r})?function(t){for(var n=T(t),e=arguments.length,r=1,o=rt.f,i=ot.f;r<e;)for(var u,c=K(arguments[r++]),f=o?et(c).concat(o(c)):et(c),s=f.length,a=0;a<s;)u=f[a++],l&&!i.call(c,u)||(n[u]=c[u]);return n}:it;A(A.S+A.F,"Object",{assign:n});var ut=function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")};function ct(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var ft=function(t,n,e){return n&&ct(t.prototype,n),e&&ct(t,e),t},st={isSupport:function(){return!!window.localStorage||(console.error("Your browser cannot support localStorage!"),!1)},get:function(t){if(this.isSupport){t=window.localStorage.getItem(t);return t?JSON.parse(t):void 0}},remove:function(t){this.isSupport&&window.localStorage.removeItem(t)},set:function(t,n){this.isSupport&&(n=JSON.stringify(n),window.localStorage.setItem(t,n))}};return function(){function n(t){ut(this,n),this.isSupport=st.isSupport(),this.isSupport&&(this.timer=null,this.storageKey="__rememberScroll__",this.options=Object.assign({},{pageKey:"_page1",maxLength:5},t),this.list=st.get(this.storageKey)||[],this.initScroll(),this.addScrollEvent())}return ft(n,[{key:"initScroll",value:function(){var t,n=this;!this.list.length||(t=this.list.find(function(t){return t.pageKey===n.options.pageKey}))&&setTimeout(function(){n.scrollTo(0,t.y)},0)}},{key:"scrollTo",value:function(t,n){window.scrollTo(t,n)}},{key:"updateScroll",value:function(t){var n={pageKey:this.options.pageKey,y:t},t=this.list.findIndex(function(t){return t.pageKey===n.pageKey});0<=t?this.list.splice(t,1,n):(this.list.length>=this.options.maxLength&&this.list.shift(),this.list.push(n)),st.set(this.storageKey,this.list)}},{key:"addScrollEvent",value:function(){var n=this;window.addEventListener("scroll",function(){clearTimeout(n.timer);var t=document.documentElement.scrollTop||document.body.scrollTop;n.timer=setTimeout(function(){n.updateScroll(t)},200)})}}]),n}()});
