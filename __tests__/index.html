<html>
<head>
  <meta charset="utf-8">
  <title>remember-scroll test</title>
  <style>
    #content, p{
      text-align: center;
    }
  </style>
</head>
<body>
  <p>你可以滚动到任意位置并记住数字，然后再关闭页面甚至关闭浏览器，最后再次打开该页面，你会发现打开时会自动滚动到你离开时的位置。</p>
  <div id="content"></div>
  <script src="../dist/remember-scroll.min.js"></script>
  <script>
  window.onload = function () {
    // init body elements
    var content = document.getElementById('content')
    var str = ''
    for (var i = 0; i < 200; i++) {
      str += '<p>'+ i +'</p>'
    }
    content.innerHTML = str




    // use RememberScroll
    new RememberScroll({
      pageKey: getPageKey(location.search)
    })

    // test onscroll
    window.onscroll = function(){
      console.log('log')
    }
    // test addEventListener way
    window.addEventListener('scroll', function () {
      console.log('addEventListener log')
    })
  }


  function getPageKey(str) {
    // str = '?id=123'
    const search = location.search.split('?')[1];
    const id = search.split('=')[1]
    return id || '_page1'
  }
  </script>
</body>
</html>
